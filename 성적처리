//문제] 다음의 조건을 처리하는 성적처리 프로그램을 만드시오.
//입력자료는 학생이름, 국어 , 영어, 수학이다.
//처리는 입력자표를 바탕으로 합계, 평균, 석차, 등금을 출력한다.
//등급은 평균 성적을 기준으로 A+, A, B+, B...로 산정한다.
//출력자료는 학생이름, 국어, 영어, 수학, 합계, 평균, 석차, 등급을 출력한다.
//구구단 출력했을때와 같이 줄, 전체제목(성적표), 칸제목, 칸을 세로로 맞추어 출력하시오.
//처음엔 배열을 이용하여 작성
//다음엔 함수로 분할(매개변수 배열로 전달)
//다음엔 매개변수 포인터로 전달.
//+구조체
#include <stdio.h>
#include <string.h>

#define SIZE 5

int main() {
    char name[SIZE][11];     // 이름
    char grade[SIZE][3];     // 등급 (ex: A+, B0 등)
    int score[SIZE][5];      // 국어, 영어, 수학, 합계, 석차
    float avg[SIZE];         // 평균

    // 입력
    printf("학생 이름과 국어, 영어, 수학 점수를 입력하세요:\n");
    for (int i = 0; i < SIZE; i++) {
        printf("%d번째 학생 >> ", i + 1);
        scanf("%s %d %d %d", name[i], &score[i][0], &score[i][1], &score[i][2]);
        score[i][3] = score[i][0] + score[i][1] + score[i][2];     // 합계
        avg[i] = score[i][3] / 3.0;                                 // 평균
        score[i][4] = 1;                                            // 초기 석차는 1
    }

    // 석차 계산
    for (int i = 0; i < SIZE; i++) {
        for (int j = 0; j < SIZE; j++) {
            if (avg[i] < avg[j]) {
                score[i][4]++;
            }
        }
    }

    // 등급 계산
    for (int i = 0; i < SIZE; i++) {
        if (avg[i] >= 95) strcpy(grade[i], "A+");
        else if (avg[i] >= 90) strcpy(grade[i], "A");
        else if (avg[i] >= 85) strcpy(grade[i], "B+");
        else if (avg[i] >= 80) strcpy(grade[i], "B");
        else if (avg[i] >= 75) strcpy(grade[i], "C+");
        else if (avg[i] >= 70) strcpy(grade[i], "C");
        else if (avg[i] >= 65) strcpy(grade[i], "D+");
        else if (avg[i] >= 60) strcpy(grade[i], "D");
        else strcpy(grade[i], "F");
    }

    // 출력
    printf("\n================== 성적표 ==================\n");
    printf("이름       국어 영어 수학  합계  평균 석차 등급\n");
    printf("===========================================\n");
    for (int i = 0; i < SIZE; i++) {
        printf("%-10s %4d %4d %4d %5d %6.2f %3d  %2s\n",
               name[i], score[i][0], score[i][1], score[i][2],
               score[i][3], avg[i], score[i][4], grade[i]);
    }

    return 0;
}
