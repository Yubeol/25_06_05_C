//문제] 다음의 조건을 처리하는 성적처리 프로그램을 만드시오.
//입력자료는 학생이름, 국어 , 영어, 수학이다.
//처리는 입력자표를 바탕으로 합계, 평균, 석차, 등금을 출력한다.
//등급은 평균 성적을 기준으로 A+, A, B+, B...로 산정한다.
//출력자료는 학생이름, 국어, 영어, 수학, 합계, 평균, 석차, 등급을 출력한다.
//구구단 출력했을때와 같이 줄, 전체제목(성적표), 칸제목, 칸을 세로로 맞추어 출력하시오.
//처음엔 배열을 이용하여 작성
//다음엔 함수로 분할(매개변수 배열로 전달)
//다음엔 매개변수 포인터로 전달.
//+구조체
#define _CRT_SECURE_NO_WARNINGS  // strcpy 오류 방지
#include <stdio.h>
#include <string.h>

#define STUDENT_COUNT 3

int main() {
    char names[STUDENT_COUNT][20];
    int kor[STUDENT_COUNT], eng[STUDENT_COUNT], math[STUDENT_COUNT];
    int total[STUDENT_COUNT], rank[STUDENT_COUNT];
    float avg[STUDENT_COUNT];
    char grade[STUDENT_COUNT][3];

    // 입력
    for (int i = 0; i < STUDENT_COUNT; i++) {
        printf("%d번째 학생 이름 입력: ", i + 1);
        scanf("%s", names[i]);
        printf("국어, 영어, 수학 점수 입력: ");
        scanf("%d %d %d", &kor[i], &eng[i], &math[i]);

        total[i] = kor[i] + eng[i] + math[i];
        avg[i] = total[i] / 3.0f;
    }

    // 석차 계산
    for (int i = 0; i < STUDENT_COUNT; i++) {
        rank[i] = 1;
        for (int j = 0; j < STUDENT_COUNT; j++) {
            if (avg[i] < avg[j]) {
                rank[i]++;
            }
        }
    }

    // 등급 계산
    for (int i = 0; i < STUDENT_COUNT; i++) {
        if (avg[i] >= 95)
            strcpy(grade[i], "A+");
        else if (avg[i] >= 90)
            strcpy(grade[i], "A");
        else if (avg[i] >= 85)
            strcpy(grade[i], "B+");
        else if (avg[i] >= 80)
            strcpy(grade[i], "B");
        else if (avg[i] >= 75)
            strcpy(grade[i], "C+");
        else if (avg[i] >= 70)
            strcpy(grade[i], "C");
        else if (avg[i] >= 60)
            strcpy(grade[i], "D");
        else
            strcpy(grade[i], "F");
    }

    // 출력
    printf("\n==================== 성적표 ====================\n");
    printf("%-10s %-5s %-5s %-5s %-5s %-7s %-4s %-4s\n", "이름", "국어", "영어", "수학", "합계", "평균", "석차", "등급");
    for (int i = 0; i < STUDENT_COUNT; i++) {
        printf("%-10s %-5d %-5d %-5d %-5d %-7.2f %-4d %-4s\n",
            names[i], kor[i], eng[i], math[i], total[i], avg[i], rank[i], grade[i]);
    }

    return 0;
}
